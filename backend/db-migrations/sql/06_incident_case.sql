CREATE TABLE `incident_case` ( `id` INT NOT NULL AUTO_INCREMENT, `status_id` INT NOT NULL, `risk_level` ENUM('High Risk','Medium Risk','Low Risk') NOT NULL, `risk_category` ENUM('Area Control','PPE','Behavioral Safety', 'Vehicle Control') NOT NULL, `risk_sub_category` ENUM('Object Obtrusion','Mask','People Clustering', 'Speeding') NOT NULL, `title` VARCHAR(100) NOT NULL, `incident_time` TIMESTAMP NOT NULL, `camera_id` INT NOT NULL, `authority_id` INT NOT NULL, `assigned_to` INT NOT NULL, `image` VARCHAR(255) NOT NULL, `team_id` INT NOT NULL, `zone_id` INT NULL, `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, `updated_at` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, `created_by` INT NOT NULL, `updated_by` INT NOT NULL, `is_active` BOOLEAN NOT NULL DEFAULT TRUE, PRIMARY KEY (`id`), INDEX (`is_active`), INDEX (`status_id`), INDEX (`risk_level`), INDEX (`risk_category`), INDEX (`risk_sub_category`), INDEX (`camera_id`), INDEX (`authority_id`), INDEX (`assigned_to`), INDEX (`team_id`), INDEX (`zone_id`), INDEX (`created_by`), INDEX (`updated_by`) ) ENGINE = InnoDB; ALTER TABLE `incident_case` ADD FOREIGN KEY (`assigned_to`) REFERENCES `user`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`authority_id`) REFERENCES `user`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`camera_id`) REFERENCES `camera`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`status_id`) REFERENCES `status`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`team_id`) REFERENCES `team`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`zone_id`) REFERENCES `zone`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`created_by`) REFERENCES `user`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `incident_case` ADD FOREIGN KEY (`updated_by`) REFERENCES `user`(`id`) ON DELETE RESTRICT ON UPDATE RESTRICT; INSERT INTO `incident_case` (`id`, `status_id`, `risk_level`, `risk_category`, `risk_sub_category`, `title`, `incident_time`, `camera_id`, `authority_id`, `assigned_to`, `image`, `team_id`, `zone_id`, `created_at`, `updated_at`, `created_by`, `updated_by`, `is_active`) VALUES (NULL, '1', 'High Risk', 'Area Control', 'Object Obtrusion', 'Not Wearing PPE Equipment', NOW(), '1', '1', '2', 'https://media.istockphoto.com/id/1398043762/photo/female-teenager-portrait-at-her-school-workshop.jpg?s=1024x1024&w=is&k=20&c=pF1ekjYZfb_OPASvXYmErghwVISwOd6NwBxIq7IcWCo=', '1', '1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '1', '1', '1'); INSERT INTO `incident_case` (`id`, `status_id`, `risk_level`, `risk_category`, `risk_sub_category`, `title`, `incident_time`, `camera_id`, `authority_id`, `assigned_to`, `image`, `team_id`, `zone_id`, `created_at`, `updated_at`, `created_by`, `updated_by`, `is_active`) VALUES (NULL, '1', 'Medium Risk', 'PPE', 'Mask', 'Worker not wearing mask properly', NOW(), '2', '1', '4', 'https://media.istockphoto.com/id/1440693777/photo/overseer-wearing-hard-hat-with-tablet-counts-merchandise-in-warehouse.jpg?s=1024x1024&w=is&k=20&c=KklDBBwx0qD--4_UitBELX2Vg3HmRuIX2th5_32qsyg=', '2', '2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, '1', '1', '1');